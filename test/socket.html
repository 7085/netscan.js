<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>test</title>
		<!-- <script src="adapter.js"></script> -->
		<style>
			ul {
				display: inline-block;
				vertical-align: top;
			}

			li:first-child {
				list-style: none;
				font-weight: bold;
			}
		</style>
	</head>
	<body>
	<script src="../src/netscan.js"></script>
	<script>
		function list(r) {
			var upList = document.getElementById("up");
			var downList = document.getElementById("down");

			r.sort((a,b) => {return a.time - b.time});
			
			for(var i = 0; i < r.length; i++){
				if(r[i].status === "up"){
					upList.insertAdjacentHTML("beforeend", "<li>"+ r[i].ip +" <span style=\"color:#ccc\">"+ r[i].time.toFixed(2) +"</span></li>");
				}
				else {
					downList.insertAdjacentHTML("beforeend", "<li>"+ r[i].ip +" <span style=\"color:#ccc\">"+ r[i].time.toFixed(2) +"</span></li>");
				}
			}
		}

		function tabinsert(r) {
			var table = document.getElementById("tab");
			
			for(var i = 0; i < r.length; i++){
				tab.insertAdjacentHTML("beforeend", 
					"<tr><td>"+ r[i].ip +"</td><td>"+ r[i].status +"</td><td>"+ r[i].time +"</td><td>"+ r[i].info +"</td></tr>");
			}
			
		}
		
/*
		//NetScan.Scan.getHostsWS("128.130.240.0-255", list);
		//NetScan.Scan.getHostsWS("192.168.2.0-25", list);
		NetScan.Scan.getHostsWS("10.0.0.0-255", list);
*/
		NetScan.Scan.getHostsLocalNetwork(tabinsert); // ws is default scan function
	</script>
<!--
		<h1>html stub for testing</h1>
		<ul id="up">
			<li>UP</li>
		</ul>
		<ul id="down">
			<li>DOWN</li>
		</ul>
-->

		<h1>html stub for testing</h1>
		<h3 id="time">processing...</h3>
		<table id="tab">
			<tr>
				<th>ip/port</th>
				<th>status</th>
				<th>time</th>
				<th>info</th>
			</tr>
		</table>

	</body>
</html> 
